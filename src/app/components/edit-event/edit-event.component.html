<div class="row">
  <div class="col-md-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <div class="row mt-3">
          <div class="col-lg-12 pr-1">
            <div class="card">
              <div class="card-body" style="padding: 0;">
                <h4 class="card-title">Dane wydarzenia</h4>
                <table class="table mb-0">
                  <tbody>
                  <tr>
                    <td class="pl-0">Nazwa</td>
                    <td class="text-right">
                      {{name}}
                    </td>
                  </tr>
                  <tr>
                    <td class="pl-0">Limit wiekowy</td>
                    <td class="text-right">
                      {{ageLimit}}
                    </td>
                  </tr>
                  <tr>
                    <td class="pl-0">Maksymalna liczba uczestników</td>
                    <td class="text-right">
                      {{maxUsers}}
                    </td>
                  </tr>
                  <tr>
                    <td class="pl-0">Data i godzina</td>
                    <td class="text-right">
                      {{date.substr(0, 10).concat(' ').concat(date.substr(11, 5))}}
                    </td>
                  </tr>
                  <tr>
                    <td class="pl-0">Wolny dostęp</td>
                    <td class="text-right">
                      {{freeJoin ? 'Tak' : 'Nie'}}
                    </td>
                  </tr>
                  <tr>
                    <td class="pl-0">Lokalizacja</td>
                    <td class="text-right">
                      {{location}}
                    </td>
                  </tr>
                  <tr>
                    <td class="pl-0">Kategorie</td>
                    <td class="text-left">
                      <li *ngFor="let category of categories">{{category}}</li>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6 pr-1 bg-gradient-secondary" style="margin: 0 auto;">
          <form class="pt-3" [formGroup]="" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <h5>Edytuj uprawnienia</h5>
              <div class="row">
                <div class="col-lg-4">
                  <label for="User"> <input type="radio" class="form-control"
                                            formControlName="role"
                                            name="role"
                                            id="User" value="USER"/>Użytkownik</label>
                </div>
                <div class="col-lg-4">
                  <label for="Mod"> <input type="radio" class="form-control"
                                           formControlName="role"
                                           name="role"
                                           id="Mod" value="MODERATOR"/>Moderator</label>
                </div>
                <div class="col-lg-4">
                  <label for="Admin"> <input type="radio" class="form-control"
                                             formControlName="role"
                                             name="role"
                                             id="Admin" value="ADMIN"/>Adminstrator</label>
                </div>
              </div>
            </div>
            <div class="form-group d-grid gap-2 col-8 mx-auto mt-3 p-2">
              <button class="btn btn-success btn-block mb-2">Zmień uprawnienia</button>
            </div>
          </form>
        </div>
        <div class="col-lg-6 pr-1 bg-gradient-secondary" style="margin: 0 auto;">
          <form class="pt-3" [formGroup]="" (ngSubmit)="onSubmit()">

            <div class="form-group d-grid gap-2 col-8 mx-auto mt-3 p-2">
              <button class="btn btn-success btn-block mb-2">Zbanuj</button>
            </div>
          </form>
        </div>
        <h4 class="card-title">Uczestnicy wydarzenia</h4>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>
                Avatar
              </th>
              <th>
                Imie
              </th>
              <th>
                Nazwisko
              </th>
              <th>
                Nazwa użytkownika
              </th>
              <th>
                Email
              </th>
              <th>
                Data urodzenia
              </th>
              <th>
              </th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let user of users">
              <td class="py-1">
                <img [src]="user.avatar" alt="image"/>
              </td>
              <td>
                {{user.firstname}}
              </td>
              <td>
                {{user.lastname}}
              </td>
              <td>
                <a routerLink="/userShow/{{user.id}}" style="color: orangered">{{user.username}}</a>
              </td>
              <td>
                {{user.email}}
              </td>
              <td>
                {{user.dateOfBirth}}
              </td>
              <td>
                <button type="button" class="btn btn-gradient-danger btn-rounded btn-fw"
                        (click)="openModalRemove(removeModalContent, user.username, user.id)">
                  Usuń
                </button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <ng-template #removeModalContent let-modal class="modal fade" id="removeModal" aria-labelledby="removeModal">
      <div class="modal-content bg-danger">
        <div class="modal-header">
          <h5 class="modal-title" id="removeModalLabel">Usuwanie użytkownika</h5>
          <button type="button" class="close" (click)="modal.dismiss()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Czy na pewno chcesz usunąć użytkownika {{removeUsername}} z wydarzenia?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" (click)="removeUser(); modal.close();">Usuń</button>
          <button type="button" class="btn btn-light" (click)="modal.close()">Anuluj</button>
        </div>
      </div>
    </ng-template>
  </div>
</div>
